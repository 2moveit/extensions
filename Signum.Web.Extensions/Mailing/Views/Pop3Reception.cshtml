@using Signum.Entities.Mailing
@using Signum.Entities.Basics

@using (var sc = Html.TypeContext<Pop3ReceptionDN>())
{
    @Html.EntityLine(sc, s => s.Pop3Configuration)
    @Html.ValueLine(sc, s => s.StartDate)
    @Html.ValueLine(sc, s => s.EndDate)
    @Html.EntityLine(sc, s => s.Exception)

    @Html.CountSearchControl(new FindOptions(typeof(EmailMessageDN))
    {
        FilterOptions = { new FilterOption("ReceptionInfo.Reception", sc.Value) }
    }, csc => { csc.PopupViewPrefix = sc.Compose("mm"); csc.WriteQueryName = WriteQueryName.Field; });

    @Html.CountSearchControl(new FindOptions(typeof(ExceptionDN))
    {
        FilterOptions = { new FilterOption("Pop3Reception", sc.Value) }
    }, csc => { csc.PopupViewPrefix = sc.Compose("mm"); csc.WriteQueryName = WriteQueryName.Field; });
}
