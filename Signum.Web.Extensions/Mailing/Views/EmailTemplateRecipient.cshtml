@using Signum.Entities.Mailing
@using Signum.Entities.DynamicQuery
@using Signum.Web.UserQueries
@using (var tc = Html.TypeContext<EmailTemplateRecipientDN>())
{
    using (Html.FormInline())
    {
    @Html.ValueLine(tc, c => c.Kind)
    @Html.ValueLine(tc, c => c.EmailAddress)
    @Html.ValueLine(tc, c => c.DisplayName)
    }
    using (var qtTc = tc.SubContext(etTc => etTc.Token))
    {
    @Html.FormGroup(tc, null, "Email Owner", Html.QueryTokenDNBuilder(qtTc, SearchControlHelper.GetQueryTokenBuilderSettings(
            (QueryDescription)ViewData[ViewDataKeys.QueryDescription])))
    }
}