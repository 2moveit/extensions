#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.34014
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace Signum.Web.Extensions.DiffLog.Views
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 1 "..\..\DiffLog\Views\OperationLog.cshtml"
    using Signum.Engine;
    
    #line default
    #line hidden
    
    #line 5 "..\..\DiffLog\Views\OperationLog.cshtml"
    using Signum.Engine.Operations;
    
    #line default
    #line hidden
    using Signum.Entities;
    
    #line 2 "..\..\DiffLog\Views\OperationLog.cshtml"
    using Signum.Entities.Basics;
    
    #line default
    #line hidden
    
    #line 3 "..\..\DiffLog\Views\OperationLog.cshtml"
    using Signum.Entities.DiffLog;
    
    #line default
    #line hidden
    using Signum.Utilities;
    using Signum.Web;
    
    #line 4 "..\..\DiffLog\Views\OperationLog.cshtml"
    using Signum.Web.Files;
    
    #line default
    #line hidden
    
    #line 6 "..\..\DiffLog\Views\OperationLog.cshtml"
    using Signum.Web.Translation;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/DiffLog/Views/OperationLog.cshtml")]
    public partial class OperationLog : System.Web.Mvc.WebViewPage<dynamic>
    {
        public OperationLog()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n");

            
            #line 8 "..\..\DiffLog\Views\OperationLog.cshtml"
 using (var e = Html.TypeContext<OperationLogDN>())
{
    e.LabelColumns = new BsColumn(4);

            
            #line default
            #line hidden
WriteLiteral("    <div");

WriteLiteral(" class=\"row\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"col-sm-6\"");

WriteLiteral(">\r\n");

WriteLiteral("            ");

            
            #line 13 "..\..\DiffLog\Views\OperationLog.cshtml"
       Write(Html.EntityLine(e, f => f.Operation));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"col-sm-6\"");

WriteLiteral(">\r\n");

WriteLiteral("            ");

            
            #line 16 "..\..\DiffLog\Views\OperationLog.cshtml"
       Write(Html.EntityLine(e, f => f.User));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </div>\r\n    </div>\r\n");

            
            #line 19 "..\..\DiffLog\Views\OperationLog.cshtml"


            
            #line default
            #line hidden
WriteLiteral("    <div");

WriteLiteral(" class=\"row\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"col-sm-6\"");

WriteLiteral(">\r\n");

WriteLiteral("            ");

            
            #line 22 "..\..\DiffLog\Views\OperationLog.cshtml"
       Write(Html.EntityLine(e, f => f.Target));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"col-sm-6\"");

WriteLiteral(">\r\n");

WriteLiteral("            ");

            
            #line 25 "..\..\DiffLog\Views\OperationLog.cshtml"
       Write(Html.EntityLine(e, f => f.Origin));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </div>\r\n    </div>\r\n");

            
            #line 28 "..\..\DiffLog\Views\OperationLog.cshtml"
    

            
            #line default
            #line hidden
WriteLiteral("    <div");

WriteLiteral(" class=\"row\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"col-sm-6\"");

WriteLiteral(">\r\n");

WriteLiteral("            ");

            
            #line 31 "..\..\DiffLog\Views\OperationLog.cshtml"
       Write(Html.ValueLine(e, f => f.Start));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"col-sm-6\"");

WriteLiteral(">\r\n");

WriteLiteral("            ");

            
            #line 34 "..\..\DiffLog\Views\OperationLog.cshtml"
       Write(Html.ValueLine(e, f => f.End));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </div>\r\n    </div>\r\n");

            
            #line 37 "..\..\DiffLog\Views\OperationLog.cshtml"
    
    e.LabelColumns = new BsColumn(2);
    if (e.Value.Exception != null)
    {
    
            
            #line default
            #line hidden
            
            #line 41 "..\..\DiffLog\Views\OperationLog.cshtml"
Write(Html.EntityLine(e, f => f.Exception));

            
            #line default
            #line hidden
            
            #line 41 "..\..\DiffLog\Views\OperationLog.cshtml"
                                         
    }
    

            
            #line default
            #line hidden
WriteLiteral(@"    <style>
        .colorIcon
        {
            color: black;
            padding: 2px;
        }

            .colorIcon.red
            {
                background: #FF8B8B;
            }

            .colorIcon.mini.red
            {
                background: #FFD1D1;
            }

            .colorIcon.green
            {
                background: #72F272;
            }

            .colorIcon.mini.green
            {
                background: #CEF3CE;
            }

        .nav-tabs > li.linkTab > a:hover
        {
            border-color: transparent;
            background-color: transparent;
        }
    </style>
");

            
            #line 77 "..\..\DiffLog\Views\OperationLog.cshtml"

    using (var diff = e.SubContext(a => a.Mixin<DiffLogMixin>()))
    {
        var minMax = Signum.Engine.DiffLog.DiffLogLogic.OperationLogNextPrev(e.Value);
        
        
        using (var tabs = Html.Tabs(e))
        {
            if (diff.Value.StartGraph != null)
            {
                var prev = minMax.Min;

                if (prev != null && prev.Mixin<DiffLogMixin>().EndGraph != null)
                {
                                  tabs.Tab(new Signum.Web.DiffLog.LinkTab( 
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, " \r\n<span>");

            
            #line 92 "..\..\DiffLog\Views\OperationLog.cshtml"
WriteTo(__razor_template_writer, DiffLogMessage.PreviousLog.NiceToString());

            
            #line default
            #line hidden
WriteLiteralTo(__razor_template_writer, "\r\n    <span");

WriteLiteralTo(__razor_template_writer, " class=\"glyphicon glyphicon-new-window\"");

WriteLiteralTo(__razor_template_writer, "/></span> \r\n");

WriteLiteralTo(__razor_template_writer, " ");

})
            
            #line 94 "..\..\DiffLog\Views\OperationLog.cshtml"
        , Navigator.NavigateRoute(prev)));
                    
                    var eq = prev.Mixin<DiffLogMixin>().EndGraph == diff.Value.StartGraph;

                    tabs.Tab(new Tab("diffPrev", 
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, "\r\n    <span");

WriteAttributeTo(__razor_template_writer, "class", Tuple.Create(" class=\"", 2642), Tuple.Create("\"", 2717)
, Tuple.Create(Tuple.Create("", 2650), Tuple.Create("glyphicon", 2650), true)
, Tuple.Create(Tuple.Create(" ", 2659), Tuple.Create("glyphicon-fast-backward", 2660), true)
, Tuple.Create(Tuple.Create(" ", 2683), Tuple.Create("colorIcon", 2684), true)
, Tuple.Create(Tuple.Create(" ", 2693), Tuple.Create("red", 2694), true)
            
            #line 99 "..\..\DiffLog\Views\OperationLog.cshtml"
, Tuple.Create(Tuple.Create(" ", 2697), Tuple.Create<System.Object, System.Int32>(eq ? "mini" : ""
            
            #line default
            #line hidden
, 2698), false)
);

WriteLiteralTo(__razor_template_writer, "></span>\r\n    <span");

WriteAttributeTo(__razor_template_writer, "class", Tuple.Create(" class=\"", 2737), Tuple.Create("\"", 2814)
, Tuple.Create(Tuple.Create("", 2745), Tuple.Create("glyphicon", 2745), true)
, Tuple.Create(Tuple.Create(" ", 2754), Tuple.Create("glyphicon-step-backward", 2755), true)
, Tuple.Create(Tuple.Create(" ", 2778), Tuple.Create("colorIcon", 2779), true)
, Tuple.Create(Tuple.Create(" ", 2788), Tuple.Create("green", 2789), true)
            
            #line 100 "..\..\DiffLog\Views\OperationLog.cshtml"
, Tuple.Create(Tuple.Create(" ", 2794), Tuple.Create<System.Object, System.Int32>(eq ? "mini" : ""
            
            #line default
            #line hidden
, 2795), false)
);

WriteLiteralTo(__razor_template_writer, "></span>\r\n    ");

})
            
            #line 101 "..\..\DiffLog\Views\OperationLog.cshtml"
           , 
    
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, "<pre>");

            
            #line 102 "..\..\DiffLog\Views\OperationLog.cshtml"
WriteTo(__razor_template_writer, TranslationClient.Diff(prev.Mixin<DiffLogMixin>().EndGraph, diff.Value.StartGraph));

            
            #line default
            #line hidden
WriteLiteralTo(__razor_template_writer, "</pre>");

})
            
            #line 102 "..\..\DiffLog\Views\OperationLog.cshtml"
                                                                                                   ));
                }

                tabs.Tab("initialGraph", Html.PropertyNiceName(() => diff.Value.StartGraph), 
    
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, "<pre><code>");

            
            #line 106 "..\..\DiffLog\Views\OperationLog.cshtml"
WriteTo(__razor_template_writer, diff.Value.StartGraph);

            
            #line default
            #line hidden
WriteLiteralTo(__razor_template_writer, "</code></pre>");

})
            
            #line 106 "..\..\DiffLog\Views\OperationLog.cshtml"
                                                                );
            }

            if (diff.Value.StartGraph != null && diff.Value.EndGraph != null)
            {
                var eq = diff.Value.StartGraph == diff.Value.EndGraph;

                tabs.Tab(new Tab("diff", 
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, "\r\n    <span");

WriteAttributeTo(__razor_template_writer, "class", Tuple.Create(" class=\"", 3372), Tuple.Create("\"", 3447)
, Tuple.Create(Tuple.Create("", 3380), Tuple.Create("glyphicon", 3380), true)
, Tuple.Create(Tuple.Create(" ", 3389), Tuple.Create("glyphicon-step-backward", 3390), true)
, Tuple.Create(Tuple.Create(" ", 3413), Tuple.Create("colorIcon", 3414), true)
, Tuple.Create(Tuple.Create(" ", 3423), Tuple.Create("red", 3424), true)
            
            #line 114 "..\..\DiffLog\Views\OperationLog.cshtml"
, Tuple.Create(Tuple.Create(" ", 3427), Tuple.Create<System.Object, System.Int32>(eq ? "mini" : ""
            
            #line default
            #line hidden
, 3428), false)
);

WriteLiteralTo(__razor_template_writer, "></span>\r\n    <span");

WriteAttributeTo(__razor_template_writer, "class", Tuple.Create(" class=\"", 3467), Tuple.Create("\"", 3543)
, Tuple.Create(Tuple.Create("", 3475), Tuple.Create("glyphicon", 3475), true)
, Tuple.Create(Tuple.Create(" ", 3484), Tuple.Create("glyphicon-step-forward", 3485), true)
, Tuple.Create(Tuple.Create(" ", 3507), Tuple.Create("colorIcon", 3508), true)
, Tuple.Create(Tuple.Create(" ", 3517), Tuple.Create("green", 3518), true)
            
            #line 115 "..\..\DiffLog\Views\OperationLog.cshtml"
, Tuple.Create(Tuple.Create(" ", 3523), Tuple.Create<System.Object, System.Int32>(eq ? "mini" : ""
            
            #line default
            #line hidden
, 3524), false)
);

WriteLiteralTo(__razor_template_writer, "></span>\r\n    ");

})
            
            #line 116 "..\..\DiffLog\Views\OperationLog.cshtml"
           , 
    
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, "<pre>");

            
            #line 117 "..\..\DiffLog\Views\OperationLog.cshtml"
WriteTo(__razor_template_writer, TranslationClient.Diff(diff.Value.StartGraph, diff.Value.EndGraph));

            
            #line default
            #line hidden
WriteLiteralTo(__razor_template_writer, "</pre>");

})
            
            #line 117 "..\..\DiffLog\Views\OperationLog.cshtml"
                                                                                   ) { Active = true });
            }

            if (diff.Value.EndGraph != null)
            {
                tabs.Tab("endGraph", Html.PropertyNiceName(() => diff.Value.EndGraph), 
    
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, "<pre><code>");

            
            #line 123 "..\..\DiffLog\Views\OperationLog.cshtml"
WriteTo(__razor_template_writer, diff.Value.EndGraph);

            
            #line default
            #line hidden
WriteLiteralTo(__razor_template_writer, "</code></pre>");

})
            
            #line 123 "..\..\DiffLog\Views\OperationLog.cshtml"
                                                              );

                var next = minMax.Max;

                if (next != null && next.Mixin<DiffLogMixin>().StartGraph != null)
                {
                    var eq = diff.Value.EndGraph == next.Mixin<DiffLogMixin>().StartGraph;

                    tabs.Tab(new Tab("diffNext", 
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, "\r\n    <span");

WriteAttributeTo(__razor_template_writer, "class", Tuple.Create(" class=\"", 4216), Tuple.Create("\"", 4290)
, Tuple.Create(Tuple.Create("", 4224), Tuple.Create("glyphicon", 4224), true)
, Tuple.Create(Tuple.Create(" ", 4233), Tuple.Create("glyphicon-step-forward", 4234), true)
, Tuple.Create(Tuple.Create(" ", 4256), Tuple.Create("colorIcon", 4257), true)
, Tuple.Create(Tuple.Create(" ", 4266), Tuple.Create("red", 4267), true)
            
            #line 132 "..\..\DiffLog\Views\OperationLog.cshtml"
, Tuple.Create(Tuple.Create(" ", 4270), Tuple.Create<System.Object, System.Int32>(eq ? "mini" : ""
            
            #line default
            #line hidden
, 4271), false)
);

WriteLiteralTo(__razor_template_writer, "></span>\r\n    <span");

WriteAttributeTo(__razor_template_writer, "class", Tuple.Create(" class=\"", 4310), Tuple.Create("\"", 4386)
, Tuple.Create(Tuple.Create("", 4318), Tuple.Create("glyphicon", 4318), true)
, Tuple.Create(Tuple.Create(" ", 4327), Tuple.Create("glyphicon-fast-forward", 4328), true)
, Tuple.Create(Tuple.Create(" ", 4350), Tuple.Create("colorIcon", 4351), true)
, Tuple.Create(Tuple.Create(" ", 4360), Tuple.Create("green", 4361), true)
            
            #line 133 "..\..\DiffLog\Views\OperationLog.cshtml"
, Tuple.Create(Tuple.Create(" ", 4366), Tuple.Create<System.Object, System.Int32>(eq ? "mini" : ""
            
            #line default
            #line hidden
, 4367), false)
);

WriteLiteralTo(__razor_template_writer, "></span>\r\n    ");

})
            
            #line 134 "..\..\DiffLog\Views\OperationLog.cshtml"
           , 
    
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, "<pre>");

            
            #line 135 "..\..\DiffLog\Views\OperationLog.cshtml"
WriteTo(__razor_template_writer, TranslationClient.Diff(diff.Value.EndGraph, next.Mixin<DiffLogMixin>().StartGraph));

            
            #line default
            #line hidden
WriteLiteralTo(__razor_template_writer, "</pre>");

})
            
            #line 135 "..\..\DiffLog\Views\OperationLog.cshtml"
                                                                                                   ));

              tabs.Tab(new Signum.Web.DiffLog.LinkTab( 
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, " \r\n<span>");

            
            #line 138 "..\..\DiffLog\Views\OperationLog.cshtml"
WriteTo(__razor_template_writer, DiffLogMessage.NextLog.NiceToString());

            
            #line default
            #line hidden
WriteLiteralTo(__razor_template_writer, "\r\n    <span");

WriteLiteralTo(__razor_template_writer, " class=\"glyphicon glyphicon-new-window\"");

WriteLiteralTo(__razor_template_writer, "/></span> \r\n");

WriteLiteralTo(__razor_template_writer, " ");

})
            
            #line 140 "..\..\DiffLog\Views\OperationLog.cshtml"
        , Navigator.NavigateRoute(next)));
                }
                else
                {
                    var entity = (Lite<IdentifiableEntity>)e.Value.Target;

                    var dump = entity.Exists() ? null : entity.Retrieve().Dump();

                    var eq = diff.Value.EndGraph == dump;

                    tabs.Tab(new Tab("diffCurrent", 
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, "\r\n    <span");

WriteAttributeTo(__razor_template_writer, "class", Tuple.Create(" class=\"", 5087), Tuple.Create("\"", 5161)
, Tuple.Create(Tuple.Create("", 5095), Tuple.Create("glyphicon", 5095), true)
, Tuple.Create(Tuple.Create(" ", 5104), Tuple.Create("glyphicon-step-forward", 5105), true)
, Tuple.Create(Tuple.Create(" ", 5127), Tuple.Create("colorIcon", 5128), true)
, Tuple.Create(Tuple.Create(" ", 5137), Tuple.Create("red", 5138), true)
            
            #line 151 "..\..\DiffLog\Views\OperationLog.cshtml"
, Tuple.Create(Tuple.Create(" ", 5141), Tuple.Create<System.Object, System.Int32>(eq ? "mini" : ""
            
            #line default
            #line hidden
, 5142), false)
);

WriteLiteralTo(__razor_template_writer, "></span>\r\n    <span");

WriteAttributeTo(__razor_template_writer, "class", Tuple.Create(" class=\"", 5181), Tuple.Create("\"", 5257)
, Tuple.Create(Tuple.Create("", 5189), Tuple.Create("glyphicon", 5189), true)
, Tuple.Create(Tuple.Create(" ", 5198), Tuple.Create("glyphicon-fast-forward", 5199), true)
, Tuple.Create(Tuple.Create(" ", 5221), Tuple.Create("colorIcon", 5222), true)
, Tuple.Create(Tuple.Create(" ", 5231), Tuple.Create("green", 5232), true)
            
            #line 152 "..\..\DiffLog\Views\OperationLog.cshtml"
, Tuple.Create(Tuple.Create(" ", 5237), Tuple.Create<System.Object, System.Int32>(eq ? "mini" : ""
            
            #line default
            #line hidden
, 5238), false)
);

WriteLiteralTo(__razor_template_writer, "></span>\r\n    ");

})
            
            #line 153 "..\..\DiffLog\Views\OperationLog.cshtml"
           , 
    
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, "<pre>");

            
            #line 154 "..\..\DiffLog\Views\OperationLog.cshtml"
WriteTo(__razor_template_writer, TranslationClient.Diff(diff.Value.EndGraph, dump));

            
            #line default
            #line hidden
WriteLiteralTo(__razor_template_writer, "</pre>");

})
            
            #line 154 "..\..\DiffLog\Views\OperationLog.cshtml"
                                                                  ));

                    tabs.Tab(new Signum.Web.DiffLog.LinkTab( 
            
            #line default
            #line hidden
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

WriteLiteralTo(__razor_template_writer, " \r\n<span>");

            
            #line 157 "..\..\DiffLog\Views\OperationLog.cshtml"
WriteTo(__razor_template_writer, DiffLogMessage.CurrentEntity.NiceToString());

            
            #line default
            #line hidden
WriteLiteralTo(__razor_template_writer, "\r\n    <span");

WriteLiteralTo(__razor_template_writer, " class=\"glyphicon glyphicon-new-window\"");

WriteLiteralTo(__razor_template_writer, "/></span> \r\n");

WriteLiteralTo(__razor_template_writer, " ");

})
            
            #line 159 "..\..\DiffLog\Views\OperationLog.cshtml"
        , Navigator.NavigateRoute(e.Value.Target)));
                }
            }
        }
    }
}
            
            #line default
            #line hidden
        }
    }
}
#pragma warning restore 1591
