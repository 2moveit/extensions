@using System.Configuration
@using Signum.Entities.ControlPanel
@using Signum.Web.ControlPanel
@using Signum.Entities.DynamicQuery
@using Signum.Entities.UserQueries
@using Signum.Web.UserQueries
@model PanelPartDN

@{ 
    UserQueryDN uq = ((UserQueryPartDN)Model.Content).UserQuery;
    object queryName = Navigator.Manager.QuerySettings.Keys.FirstEx(k => QueryUtils.GetQueryUniqueKey(k) == uq.Query.Key);
    FindOptions fo = new FindOptions(queryName)
    {
        FilterMode = FilterMode.OnlyResults,
        AllowMultiple = false
    };

    @Html.SearchControl(uq, fo, new Context(null, "r{0}c{1}".Formato(Model.Row, Model.Column)));
}